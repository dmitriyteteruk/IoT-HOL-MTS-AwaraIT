### 2.2. Установка Azure IoT Edge Runtime на шлюз.
На предыдущих этапах мы развернули Azure IoT Hub, добавили в него устройство класса IoT Edge и запустили виртуальную машину, которая будет выступать у нас в роли шлюза. Теперь нам необходимо установить Azure IoT Edge Runtime на наш шлюз. Azure IoT Edge Runtime будет отвечать за коммуникацию с Azure IoT Hub и управлять контейнерными нагрузками.

1. На странице обзора виртуальной машины скопируйте **Общедоступный IP-адрес**.

![image](https://user-images.githubusercontent.com/34028526/155173905-992e7d8c-b5a5-4377-987e-8b2ef5245119.png)

---

2. Откройте на локальном компютере командную строку или PowerShell для Windows 10/11 или Putty (или другой клиент или терминал на Linux).
Запустите команду `SSH azurestackuser@ПУБЛИЧНЫЙ-IP-АДРЕС-ВМ` и при запросе пароля введите `HOLpassword123!` и нажмите ввод.
В случае удачного ввода вы должны увидеть сообщение как на скриншоте, наберите **yes** и нажмите ввод.

![image](https://user-images.githubusercontent.com/34028526/155206712-82b4eb94-1c20-4fb6-a4a3-2574fcbc95c8.png)

После успешной авторизации вы увидите привественное окно аналогичное скриншоту ниже. При этом командная строка будет начинаться с `azurestackuser@iot-edge-gw:~$`

![image](https://user-images.githubusercontent.com/34028526/155207013-10f5e7e0-290d-4444-81f9-ef2050c54236.png)


---

3. Скопируйте нижеследующие код в окно Powershell и нажмите ввод.
``` Bash
wget https://packages.microsoft.com/config/ubuntu/18.04/multiarch/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
sudo dpkg -i packages-microsoft-prod.deb
rm packages-microsoft-prod.deb
```

4. Установите контейнерный движок Moby. Для это введите нижеследующий код в окно PowerShell и нажмите ввод.
``` Bash
sudo apt-get update; \
  sudo apt-get install moby-engine -y
```

5. Установите новейшую версию Azure IoT Edge Runtime. Для этого скопируйте нижеследующий код в окно PowerShell и нажмите ввод.
``` Bash
sudo apt-get update; \
  sudo apt-get install aziot-edge -y
```

---

Следующий этап - **добавление информации для подключения к Azure IoT Hub**

